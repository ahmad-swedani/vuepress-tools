(window.webpackJsonp=window.webpackJsonp||[]).push([[158],{631:function(e,t,s){"use strict";s.r(t);var a=s(50),r=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"vuepress-plugin-offlinesearch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vuepress-plugin-offlinesearch"}},[e._v("#")]),e._v(" Vuepress-plugin-offlinesearch")]),e._v(" "),s("p",[e._v("The search is based on the "),s("a",{attrs:{href:"https://vuepress.vuejs.org/plugin/official/plugin-search.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("official vuepress search plugin"),s("OutboundLink")],1),e._v(".\nBut instead of just indexing headers, it leverages "),s("a",{attrs:{href:"https://lunrjs.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("lunrjs"),s("OutboundLink")],1),e._v(" to enable a (simplistic) full-text search.\nAlthough the "),s("a",{attrs:{href:"https://vuepress.vuejs.org/theme/default-theme-config.html#algolia-docsearch",target:"_blank",rel:"noopener noreferrer"}},[e._v("Algolia"),s("OutboundLink")],1),e._v(" search is great, it may not be an option for teams sitting behind a corporate firewall.")]),e._v(" "),s("p",[e._v("For each search result, the page title and the title of the section, where the text was found, are displayed. The links take you right to that section.")]),e._v(" "),s("h2",{attrs:{id:"demo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#demo"}},[e._v("#")]),e._v(" Demo")]),e._v(" "),s("p",[e._v("We created a sample project that showcases the search. Check it out here: https://datev.gitlab.io/vuepress-plugin-offlinesearch-example/")]),e._v(" "),s("h2",{attrs:{id:"usage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#usage"}},[e._v("#")]),e._v(" Usage")]),e._v(" "),s("ul",[s("li",[e._v("Add the plugin as dependency:")])]),e._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" i @datev/vuepress-plugin-offlinesearch\n")])])]),s("ul",[s("li",[e._v("Add the plugin to "),s("code",[e._v(".vuepress/config.js")])])]),e._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[e._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    plugins"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'@datev/vuepress-plugin-offlinesearch'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("searchMaxSuggestions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("7")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" documents"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'../.vuepress/public/documents.json'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n")])])]),s("h3",{attrs:{id:"options"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#options"}},[e._v("#")]),e._v(" Options")]),e._v(" "),s("h4",{attrs:{id:"searchmaxsuggestions"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#searchmaxsuggestions"}},[e._v("#")]),e._v(" "),s("code",[e._v("searchMaxSuggestions")])]),e._v(" "),s("p",[e._v("Defines the maximum number of search results displayed.")]),e._v(" "),s("ul",[s("li",[e._v("Type: "),s("code",[e._v("number")])]),e._v(" "),s("li",[e._v("Default: 5\nDisclaimer: taken form "),s("a",{attrs:{href:"https://vuepress.vuejs.org/plugin/official/plugin-search.html#searchmaxsuggestions",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),s("OutboundLink")],1)])]),e._v(" "),s("h4",{attrs:{id:"searchhotkeys"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#searchhotkeys"}},[e._v("#")]),e._v(" "),s("code",[e._v("searchHotkeys")])]),e._v(" "),s("ul",[s("li",[e._v("Configure the hotkeys which when pressed will focus the search box. Set to an empty array to disable this feature.")]),e._v(" "),s("li",[e._v("Type: "),s("code",[e._v("Array<string>")])]),e._v(" "),s("li",[e._v("Default: ['s', '/']`\nDisclaimer: taken form "),s("a",{attrs:{href:"https://vuepress.vuejs.org/plugin/official/plugin-search.html#searchhotkeys",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),s("OutboundLink")],1)])]),e._v(" "),s("h4",{attrs:{id:"activatestemming"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#activatestemming"}},[e._v("#")]),e._v(" "),s("code",[e._v("activateStemming")])]),e._v(" "),s("ul",[s("li",[e._v("Activates lunr's stemming feature. In our experience, the search works better when this option is disabled.\nPlease refer to the "),s("a",{attrs:{href:"https://lunrjs.com/guides/core_concepts.html#stemming",target:"_blank",rel:"noopener noreferrer"}},[e._v("official docs"),s("OutboundLink")],1),e._v(" for more information on stemming.")]),e._v(" "),s("li",[e._v("Type: "),s("code",[e._v("boolean")])]),e._v(" "),s("li",[e._v("Default: "),s("code",[e._v("false")])])]),e._v(" "),s("h4",{attrs:{id:"documents"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#documents"}},[e._v("#")]),e._v(" "),s("code",[e._v("documents")])]),e._v(" "),s("ul",[s("li",[e._v("Path to your documents file, e.g. "),s("code",[e._v("'../.vuepress/public/documents.json'")]),e._v(". Note that the file needs to be "),s("a",{attrs:{href:"https://v1.vuepress.vuejs.org/guide/assets.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("deployed as an asset"),s("OutboundLink")],1),e._v(".")]),e._v(" "),s("li",[e._v("Type: "),s("code",[e._v("string")])]),e._v(" "),s("li",[e._v("required")])]),e._v(" "),s("p",[e._v("The plugin requires the following json structure to build its index. The json can be either generated\nby your own generator, by hand or by using our "),s("a",{attrs:{href:"https://gitlab.com/datev/vuepress-documents-parser-cli",target:"_blank",rel:"noopener noreferrer"}},[e._v("npm-cli tool"),s("OutboundLink")],1)]),e._v(" "),s("p",[e._v("If you choose to use the vuepress-documents-parser-cli, generating the documents.json file is as simple as\ninstalling the package with")]),e._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" i @datev/vuepress-offlinesearch-parse-cli\n")])])]),s("p",[e._v("and executing the command "),s("code",[e._v("generate-documents")]),e._v(" from your command line.")]),e._v(" "),s("p",[e._v("If you choose to build your own documents.json file, please comply with following json structure:")]),e._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"pageTitle"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"exampleTitle"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"sectionHeader"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"ExampleHeader"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"sectionSlug"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"/exampleSite.html#exampleSection"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"sectionContent"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"This is example Content"')]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n")])])]),s("p",[e._v("Note that the sectionHeader and sectionContent are the field that will later be used to match search queries.")]),e._v(" "),s("p",[e._v("After these steps the search for your vuepress Site should be set up and ready to go.")]),e._v(" "),s("h2",{attrs:{id:"contributing"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#contributing"}},[e._v("#")]),e._v(" Contributing")]),e._v(" "),s("p",[e._v("Contributions are welcome !")]),e._v(" "),s("p",[e._v("If you want to contribute or have a question please just open a new Issue.")])])}),[],!1,null,null,null);t.default=r.exports}}]);