(window.webpackJsonp=window.webpackJsonp||[]).push([[409],{892:function(t,e,a){"use strict";a.r(e);var s=a(50),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[t._v("#")]),t._v(" 介绍")]),t._v(" "),a("p",[t._v("项目地址："),a("a",{attrs:{href:"https://github.com/xuzhongpeng/vuepress-theme-reform",target:"_blank",rel:"noopener noreferrer"}},[t._v("vuepress-theme-reform"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("效果展示： "),a("a",{attrs:{href:"http://JSShou.cn",target:"_blank",rel:"noopener noreferrer"}},[t._v("我的博客"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("此主题继承至 vuepress 的默认主题，添加功能有标签页改造，主页改造，博客分类及展示，gitalk 集成及 gitalk 自动化配置")]),t._v(" "),a("h2",{attrs:{id:"使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[t._v("#")]),t._v(" 使用")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("npm install vuepress-theme-reform -D # or yarn add vuepress-theme-reform\n")])])]),a("p",[t._v("然后在 docs/.vuepress/config.js 文件中添加")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("{\n  ...\n  theme:'reform'\n  ...\n}\n")])])]),a("p",[t._v("即可使用本主题")]),t._v(" "),a("h2",{attrs:{id:"功能介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#功能介绍"}},[t._v("#")]),t._v(" 功能介绍")]),t._v(" "),a("h3",{attrs:{id:"主页展示"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#主页展示"}},[t._v("#")]),t._v(" 主页展示")]),t._v(" "),a("p",[t._v("如需使用主页展示\n在 docs 下的 README.md 中修改 defaultHome:true")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("---\ndefaultHome: true\n___\n")])])]),a("p",[a("img",{attrs:{src:"https://blog-1253495453.cos.ap-chongqing.myqcloud.com/%E4%B8%BB%E9%A1%B5.gif",alt:"主页展示"}})]),t._v(" "),a("h3",{attrs:{id:"目录分类及展示"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目录分类及展示"}},[t._v("#")]),t._v(" 目录分类及展示")]),t._v(" "),a("p",[t._v("在 config.js 中配置")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('...\nnav: [\n      ...\n      {\n        text: "博文",\n        icon: \'zhi\',\n        items: [\n          { text: "前端", link: "/blog/frontend/" }\n        ]\n      }\n      ...\n]\n')])])]),a("p",[t._v("在 docs/blog/frontend 下新建 README.md，在头部编写")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("---\ntype: 'classify'\n---\n")])])]),a("p",[t._v("那此文件夹下的其它文件都会被编译成展示的博文,此中的/blog/frontend 自行定义\n"),a("img",{attrs:{src:"https://blog-1253495453.cos.ap-chongqing.myqcloud.com/%E5%88%86%E7%B1%BB.gif",alt:"分类"}})]),t._v(" "),a("h2",{attrs:{id:"标签云集成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#标签云集成"}},[t._v("#")]),t._v(" 标签云集成")]),t._v(" "),a("p",[t._v("在 docs 下新建 tags,在 tags 下新建空的 README.md")]),t._v(" "),a("p",[t._v("在 config.js 中的 themeConfig 下配置")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('...\nthemeConfig:{\n  ...\n  tags:"tags"\n  ...\n  nav:[\n    ...\n    {\n        text: "标签云",\n        link: \'/tags/\',\n        tags: true\n      },\n      ...\n  ]\n}\n...\n')])])]),a("p",[t._v("其中后面的 tags 表示你标签云的文件夹名")]),t._v(" "),a("p",[t._v("在我们写的文章中写")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("---\ntags:\n  - vuepress\n---\n")])])]),a("p",[t._v("就能在页面中看到效果\n"),a("img",{attrs:{src:"https://blog-1253495453.cos.ap-chongqing.myqcloud.com/%E6%A0%87%E7%AD%BE%E4%BA%91.gif",alt:"标签云"}})]),t._v(" "),a("h2",{attrs:{id:"gitalk"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gitalk"}},[t._v("#")]),t._v(" gitalk")]),t._v(" "),a("p",[t._v("在 config.js 中配置")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("{\n  themConfig:{\n    ...\n    gitalk: {\n      // gitalk的主要参数\n      clientID: `your clientID`,\n      clientSecret: `your clientSecret`,\n      repo: `your repo`,\n      owner: \"yourname\",\n      admin: [\"yourname\"],\n      accessToken: 'your accessToken ',\n      labelRule: `(title,path)=> {\n        let paths=path.split('/')\n        if(paths.length>0){\n          let res = paths.pop()\n          if(res===''){\n            res=paths.pop()\n          }\n          res = res.slice(-50)\n          return res\n        }else{\n          return title\n        }\n      }`\n    },\n    ...\n  }\n}\n")])])]),a("ul",[a("li",[t._v("clientID： 你的 clientID，在 github 的 Settings/Developer settings/OAuth Apps 下创建获取")]),t._v(" "),a("li",[t._v("clientSecret： 你的 clientSecret，在 github 的 Settings/Developer settings/OAuth Apps 下创建获取")]),t._v(" "),a("li",[t._v("repo: 你的评论存放的仓库名，如我的为 xuzhongpeng.github.io")]),t._v(" "),a("li",[t._v("owner: 你的 github 账户名")]),t._v(" "),a("li",[t._v("admin: 评论下展示的名字")]),t._v(" "),a("li",[t._v("accessToken: 可选，用于自动化创建 gitalk 时发送请求的 taken，在 github 的 Settings/Developer settings/Personal access tokens 下创建获取")]),t._v(" "),a("li",[t._v("labelRule: 评论请求及自动化创建评论时的回调函数，有回调函数的原因在于 gitalk 标签只能有 50 个字符的限制，回调函数的第一个参数为当前页面的标题，第二个参数当前页面的路径，返回创建的标签名")])]),t._v(" "),a("h2",{attrs:{id:"gitalk-自动化创建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gitalk-自动化创建"}},[t._v("#")]),t._v(" gitalk 自动化创建")]),t._v(" "),a("p",[t._v("下载安装插件")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("yarn add vuepress-plugin-gitalk # npm i vuepress-plugin-gitalk -D\n")])])]),a("p",[t._v("在 package.json 中的 scripts 中加入")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('{\n  "scripts":{\n    ...\n    "gitalk": "vuepress gitalk ./docs",\n    ...\n  }\n}\n')])])]),a("p",[t._v("执行")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("npm run gitalk\n")])])]),a("p",[t._v("即可输出自动化初始化评论的结果")]),t._v(" "),a("h2",{attrs:{id:"最新-google-analytics-插件集成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#最新-google-analytics-插件集成"}},[t._v("#")]),t._v(" 最新 Google Analytics 插件集成")]),t._v(" "),a("p",[t._v("vuepress 提供了@vuepress/plugin-google-analytics,我使用过后没有效果，去 google-analytics 网站上发现当前的插入代码已有变化，所以自己内置了插件，只需在 config.js 中配置即可。")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("{\n  ga:'XXXX'\n}\n")])])]),a("h2",{attrs:{id:"错误处理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#错误处理"}},[t._v("#")]),t._v(" 错误处理")]),t._v(" "),a("p",[t._v("如果自动化创建评论时输出")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('接口返回数据{"message":"Bad credentials","documentation_url":"https://developer.github.com/v3"}\nxxx 创建失败\n')])])]),a("p",[t._v("报这个错误大概率是 accessToken 失效了，这时需要重新到 github 的 Settings/Developer settings/Personal access tokens 下创建获取并替换")]),t._v(" "),a("p",[t._v("项目地址："),a("a",{attrs:{href:"https://github.com/xuzhongpeng/vuepress-theme-reform",target:"_blank",rel:"noopener noreferrer"}},[t._v("vuepress-theme-reform"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("效果展示： "),a("a",{attrs:{href:"http://JSShou.cn",target:"_blank",rel:"noopener noreferrer"}},[t._v("我的博客"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"补充功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#补充功能"}},[t._v("#")]),t._v(" 补充功能")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("---\ntitle: 我的博客   //标题\nsidebar: false  //是否展示侧边栏\nnavbar: false   //是否展示菜单\ngitTalk: false  //是否显示评论\nsidebarDepth: 2 //侧边栏展示文章层级\ntags:   //标签\n  - javascript\n---\n")])])])])}),[],!1,null,null,null);e.default=n.exports}}]);