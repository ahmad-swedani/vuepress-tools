(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{552:function(t,e,s){"use strict";s.r(e);var a=s(50),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"vuepress-plugin-external-link-checks"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vuepress-plugin-external-link-checks"}},[t._v("#")]),t._v(" vuepress-plugin-external-link-checks")]),t._v(" "),s("p",[t._v("Given a list of external links, this package will test if all the links found in those external pages that match the vuepress website's hostname are still alive.")]),t._v(" "),s("p",[t._v("You can run the test against your local vuepress routing using the (soon to come) vuepress plugin, or you can run the test against your online vuepress.")]),t._v(" "),s("h2",{attrs:{id:"features"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#features"}},[t._v("#")]),t._v(" Features")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/cvermand/vuepress-plugin-external-link-checks/master/assets/demo.png",alt:""}})]),t._v(" "),s("ul",[s("li",[t._v("Will check all the links to a given domain in the given url list:\n"),s("ul",[s("li",[t._v("Comparing it with locally generated links, when building your vuepress in development")]),t._v(" "),s("li",[t._v("Comparing it with your online documentation.")])])])]),t._v(" "),s("h3",{attrs:{id:"locally"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#locally"}},[t._v("#")]),t._v(" Locally")]),t._v(" "),s("p",[t._v("When building your vuepress application a siteData file is generated which contains all the routes of your documentation.\nAfter fetching all HTML from the given "),s("code",[t._v("urls")]),t._v(" list, this package will retrieve all links with the given "),s("code",[t._v("hostname")]),t._v(" in the different fetched HTMLs. The urls found will be searched in the siteData file. If not present a warning will be raised. This means your link does not exists in your new build.")]),t._v(" "),s("h3",{attrs:{id:"online"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#online"}},[t._v("#")]),t._v(" Online")]),t._v(" "),s("p",[t._v("Given that your documentation is already online and you would like to check if all the links to your documentation in the given "),s("code",[t._v("urls")]),t._v(" list are still alive.\nThis package will fetch the HTML from all the "),s("code",[t._v("urls")]),t._v(" given and retrieve all links pointing to the given "),s("code",[t._v("hostname")]),t._v(". It will ping all those links, if they do not result in a success a warning will be raised. This means the link is dead.")]),t._v(" "),s("p",[s("strong",[t._v("The online mode "),s("code",[t._v("-o")]),t._v(" has nothing to do with vuepress and should be moved to its own package.")])]),t._v(" "),s("h2",{attrs:{id:"install"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#install"}},[t._v("#")]),t._v(" Install")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" vuepress-plugin-external-link-checks\n")])])]),s("h2",{attrs:{id:"getting-started"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#getting-started"}},[t._v("#")]),t._v(" Getting started")]),t._v(" "),s("h3",{attrs:{id:"vuepress-plugin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vuepress-plugin"}},[t._v("#")]),t._v(" Vuepress plugin")]),t._v(" "),s("p",[t._v("in "),s("code",[t._v("config.js")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('plugins: [\n    [ "external-link-checks" ,\n        { hostname: "docs.myhostname.com", "urls": [\n        "https://github.com/someGithub",\n        "https://www.myhostnamelanding.com/",\n        ]\n    }]\n]\n')])])]),s("p",[t._v("You can also add a "),s("code",[t._v(".externallinkchecksrc")]),t._v(" file at the root of your vuepress with the above configs.\nYou can also create your own file, and store it whever you want in the project and just add the link in config.js using "),s("code",[t._v('configFile: "path/to/my/file"')])]),t._v(" "),s("h3",{attrs:{id:"cli"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cli"}},[t._v("#")]),t._v(" CLI")]),t._v(" "),s("h4",{attrs:{id:"with-a-config-file"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#with-a-config-file"}},[t._v("#")]),t._v(" With a config file")]),t._v(" "),s("p",[t._v("Create a "),s("code",[t._v(".externallinkchecksrc")]),t._v(" file")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('{\n    hostname: "docs.myhostname.com",\n    "urls": [\n        "https://github.com/someGithub",\n        "https://www.myhostnamelanding.com/",\n    ]\n}\n')])])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ vuepress-plugin-external-link-checks\n")])])]),s("h4",{attrs:{id:"with-your-custom-config-file"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#with-your-custom-config-file"}},[t._v("#")]),t._v(" With your custom config file")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ vuepress-plugin-external-link-checks -C myconfigfile.json\n")])])]),s("h4",{attrs:{id:"with-cli-options"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#with-cli-options"}},[t._v("#")]),t._v(" With CLI options")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ vuepress-plugin-external-link-checks -H docs.myhostname.com -u "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://github.com/someGithub,https://www.myhostnamelanding.com/"')]),t._v("\n")])])]),s("h2",{attrs:{id:"try-out"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#try-out"}},[t._v("#")]),t._v(" Try out")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" vuepress-plugin-external-link-checks\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("link")]),t._v("\n$ npx vuepress-plugin-external-link-checks -t test/vuepress -H docs.meilisearch.com\n")])])]),s("p",[t._v("or")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" examples\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("link")]),t._v("\n$ ./docs.meilisearch.sh\n")])])]),s("h3",{attrs:{id:"options"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#options"}},[t._v("#")]),t._v(" Options")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("CLI option")]),t._v(" "),s("th",[t._v("Config file option")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Description")]),t._v(" "),s("th",[t._v("Default value")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("-H, --hostname")]),t._v(" "),s("td",[t._v("hostname")]),t._v(" "),s("td",[t._v("String")]),t._v(" "),s("td",[t._v("links pointing to this hostname should always work")]),t._v(" "),s("td",[t._v("none")])]),t._v(" "),s("tr",[s("td",[t._v("-u, --urls")]),t._v(" "),s("td",[t._v("urls")]),t._v(" "),s("td",[t._v("String[]")]),t._v(" "),s("td",[t._v("list of external urls on which to find hostname links")]),t._v(" "),s("td",[t._v("[]")])]),t._v(" "),s("tr",[s("td",[t._v("-C, --config-file")]),t._v(" "),s("td",[t._v("configFile")]),t._v(" "),s("td",[t._v("String")]),t._v(" "),s("td",[t._v("Path to your config file")]),t._v(" "),s("td",[t._v("./.externallinkchecksrc")])]),t._v(" "),s("tr",[s("td",[t._v("-o, --online")]),t._v(" "),s("td",[t._v("online")]),t._v(" "),s("td",[t._v("Boolean")]),t._v(" "),s("td",[t._v("Will check in online documentation if provided")]),t._v(" "),s("td",[t._v("not provided")])]),t._v(" "),s("tr",[s("td",[t._v("-s, --sitedata")]),t._v(" "),s("td",[t._v("siteData")]),t._v(" "),s("td",[t._v("String")]),t._v(" "),s("td",[t._v("Path to the generated siteData.js file of vuepress used in local mode (--online not provided)")]),t._v(" "),s("td",[t._v("will check in multiple places")])])])]),t._v(" "),s("h2",{attrs:{id:"test"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#test"}},[t._v("#")]),t._v(" Test")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("yarn test\n")])])]),s("h2",{attrs:{id:"style"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#style"}},[t._v("#")]),t._v(" Style")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("yarn style\nyarn style:fix\n")])])]),s("h2",{attrs:{id:"todo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#todo"}},[t._v("#")]),t._v(" TODO:")]),t._v(" "),s("ul",[s("li",[t._v("publish on NPM")]),t._v(" "),s("li",[t._v("add multilanguage links (/en/, /fr/)")]),t._v(" "),s("li",[t._v("add a hash checker on online version")]),t._v(" "),s("li",[t._v("stop process if a dead link was found")]),t._v(" "),s("li",[t._v("Promisify online version")])])])}),[],!1,null,null,null);e.default=n.exports}}]);